apiVersion: firebase.timam.dev/v1alpha1
kind: Function
metadata:
  labels:
    app.kubernetes.io/name: firebase-controller
    app.kubernetes.io/managed-by: kustomize
  name: function-sample
spec:
  successfulDeploymentsHistoryLimit: 3
  failedDeploymentsHistoryLimit: 1
  maxRetries: 3  # Add this line
  source:
    container:
      image: timam/firebase-test:006
      imagePullPolicy: Always
  project:
    auth:
      serviceAccountKey:
        secretName: firebase-credentials
        mountPath: /var/secrets/google